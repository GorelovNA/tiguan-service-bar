(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"Tx//":function(t,e,i){"use strict";i.r(e),i.d(e,"LayoutModule",function(){return Di});var n=i("SVse"),o=i("s7LF"),s=i("8Y7J"),r=i("HDdC"),c=i("EY2u"),a=i("LRne"),l=i("XNiG"),b=i("xgIS"),d=i("PqYM"),h=i("DH7j"),u=i("yCtX"),p=i("l7GE"),m=i("ZUHj");function f(...t){if(1===t.length){if(!Object(h.a)(t[0]))return t[0];t=t[0]}return Object(u.a)(t,void 0).lift(new g)}class g{call(t,e){return e.subscribe(new w(t))}}class w extends p.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let i=0;i<e&&!this.hasFirst;i++){const e=t[i],n=Object(m.a)(this,e,void 0,i);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}}notifyNext(t,e,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==i){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}var y=i("2Vo4");i("itXk"),i("KqfI");var _=i("7o/Q"),v=i("Lhse"),j=i("zx2A");function C(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(u.a)(t,void 0).lift(new O(e))}class O{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new T(t,this.resultSelector))}}class T extends _.a{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(h.a)(t)?e.push(new S(t)):e.push("function"==typeof t[v.a]?new R(t[v.a]()):new D(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let e=t[i];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let n=!1;const o=[];for(let s=0;s<e;s++){let e=t[s],r=e.next();if(e.hasCompleted()&&(n=!0),r.done)return void i.complete();o.push(r.value)}this.resultSelector?this._tryresultSelector(o):i.next(o),n&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class R{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class S{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[v.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class D extends j.b{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[v.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(j.c)(this.observable,new j.a(this))}}var k=i("VRyK"),M=i("GyhO"),U=i("1G5W"),E=i("pLZG"),x=i("IzEk"),J=i("lJxs"),B=(i("JX91"),i("/uUt"),i("eIep")),H=i("vkgz");function A(...t){return e=>{let i;return"function"==typeof t[t.length-1]&&(i=t.pop()),e.lift(new P(t,i))}}class P{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new V(t,this.observables,this.project))}}class V extends p.a{constructor(t,e,i){super(t),this.observables=e,this.project=i,this.toRespond=[];const n=e.length;this.values=new Array(n);for(let o=0;o<n;o++)this.toRespond.push(o);for(let o=0;o<n;o++){let t=e[o];this.add(Object(m.a)(this,t,void 0,o))}}notifyNext(t,e,i){this.values[i]=e;const n=this.toRespond;if(n.length>0){const t=n.indexOf(i);-1!==t&&n.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}var I=i("3E0/"),L=i("5+tZ"),$=(i("zP0r"),i("w1tV"));const F=["*"],K=["dialog"];function z(t){return null!=t}function W(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const N={animation:!0,transitionTimerDelayMs:5};let G=(()=>{class t{constructor(){this.animation=N.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(s.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Z=()=>{},{transitionTimerDelayMs:q}=N,Y=new Map,X=(t,e,i,n)=>{let o=n.context||{};const s=Y.get(e);if(s)switch(n.runningTransition){case"continue":return c.a;case"stop":t.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),Y.delete(e)}const h=i(e,n.animation,o)||Z;if(!n.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>h()),Object(a.a)(void 0).pipe(function(t){return e=>new r.a(i=>e.subscribe(e=>t.run(()=>i.next(e)),e=>t.run(()=>i.error(e)),()=>t.run(()=>i.complete())))}(t));const u=new l.a,p=new l.a,m=u.pipe(function(...t){return e=>Object(M.a)(e,Object(a.a)(...t))}(!0));Y.set(e,{transition$:u,complete:()=>{p.next(),p.complete()},context:o});const g=function(t){const{transitionDelay:e,transitionDuration:i}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(i))}(e);return t.runOutsideAngular(()=>{const i=Object(b.a)(e,"transitionend").pipe(Object(U.a)(m),Object(E.a)(({target:t})=>t===e));f(Object(d.a)(g+q).pipe(Object(U.a)(m)),i,p).pipe(Object(U.a)(m)).subscribe(()=>{Y.delete(e),t.run(()=>{h(),u.next(),u.complete()})})}),u.asObservable()};let Q=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),tt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),et=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t})(),it=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),nt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t})();var ot=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});const st=(t,e)=>!!e&&e.some(e=>e.contains(t)),rt=(t,e)=>!e||null!=function(t,e){return e?void 0===t.closest?null:t.closest(e):null}(t,e),ct="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const at=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function lt(t){const e=Array.from(t.querySelectorAll(at)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const bt=/\s+/,dt=new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,n={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const e=this.offsetParent(t);i=this.offset(t,!1),e!==document.documentElement&&(n=this.offset(e,!1)),n.top+=e.clientTop,n.left+=e.clientLeft}return i.top-=n.top,i.bottom-=n.top,i.left-=n.left,i.right-=n.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),n=window.pageYOffset-document.documentElement.clientTop,o=window.pageXOffset-document.documentElement.clientLeft;let s={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+n,bottom:i.bottom+n,left:i.left+o,right:i.right+o};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,i,n){const[o="top",s="center"]=i.split("-"),r=n?this.offset(t,!1):this.position(t,!1),c=this.getAllStyles(e),a=parseFloat(c.marginTop),l=parseFloat(c.marginBottom),b=parseFloat(c.marginLeft),d=parseFloat(c.marginRight);let h=0,u=0;switch(o){case"top":h=r.top-(e.offsetHeight+a+l);break;case"bottom":h=r.top+r.height;break;case"left":u=r.left-(e.offsetWidth+b+d);break;case"right":u=r.left+r.width}switch(s){case"top":h=r.top;break;case"bottom":h=r.top+r.height-e.offsetHeight;break;case"left":u=r.left;break;case"right":u=r.left+r.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?u=r.left+r.width/2-e.offsetWidth/2:h=r.top+r.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(u)}px, ${Math.round(h)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,f=window.innerHeight||m.clientHeight,g=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=g&&p.bottom<=f}};new Date(1882,10,12),new Date(2174,10,25);let ht=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c,o.i]]}),t})(),ut=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t})(),pt=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(s.bc(G))},t.\u0275prov=Object(s.Kb)({factory:function(){return new t(Object(s.bc)(G))},token:t,providedIn:"root"}),t})();class mt{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class ft{constructor(t,e,i,n,o,s,r){this._type=t,this._injector=e,this._viewContainerRef=i,this._renderer=n,this._ngZone=o,this._componentFactoryResolver=s,this._applicationRef=r,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),this._viewContainerRef.length,this._injector,this._contentRef.nodes));const{nativeElement:n}=this._windowRef.location,o=this._ngZone.onStable.pipe(Object(x.a)(1),Object(L.a)(()=>X(this._ngZone,n,({classList:t})=>t.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?X(this._ngZone,this._windowRef.location.nativeElement,({classList:t})=>t.remove("show"),{animation:t,runningTransition:"stop"}).pipe(Object(H.a)(()=>{var t;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(t=this._contentRef)||void 0===t?void 0:t.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Object(a.a)(void 0)}_getContentRef(t,e){if(t){if(t instanceof s.N){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new mt([i.rootNodes],i)}return new mt([[this._renderer.createText(""+t)]])}return new mt([])}}const gt=()=>{};let wt=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):gt}_adjustBody(t){const e=this._document.body,i=e.style.paddingRight,n=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=n+t+"px",()=>e.style["padding-right"]=i}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const i=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),i}}return t.\u0275fac=function(e){return new(e||t)(s.bc(n.d))},t.\u0275prov=Object(s.Kb)({factory:function(){return new t(Object(s.bc)(n.d))},token:t,providedIn:"root"}),t})(),yt=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Object(x.a)(1)).subscribe(()=>{X(this._zone,this._el.nativeElement,(t,e)=>{e&&W(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return X(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.l),s.Ob(s.B))},t.\u0275cmp=s.Ib({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(s.Db("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),s.Gb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class _t{close(t){}dismiss(t){}}class vt{constructor(t,e,i,n){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=n,this._closed=new l.a,this._dismissed=new l.a,this._hidden=new l.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Object(U.a)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Object(U.a)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(a.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),C(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var jt=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let Ct=(()=>{class t{constructor(t,e,i){this._document=t,this._elRef=e,this._zone=i,this._closed$=new l.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new s.o,this.shown=new l.a,this.hidden=new l.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Object(x.a)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},i=C(X(this._zone,t,()=>t.classList.remove("show"),e),X(this._zone,this._dialogEl.nativeElement,()=>{},e));return i.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),i}_show(){const t={animation:this.animation,runningTransition:"continue"};C(X(this._zone,this._elRef.nativeElement,(t,e)=>{e&&W(t),t.classList.add("show")},t),X(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Object(b.a)(t,"keydown").pipe(Object(U.a)(this._closed$),Object(E.a)(t=>t.which===ot.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(jt.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;Object(b.a)(this._dialogEl.nativeElement,"mousedown").pipe(Object(U.a)(this._closed$),Object(H.a)(()=>e=!1),Object(B.a)(()=>Object(b.a)(t,"mouseup").pipe(Object(U.a)(this._closed$),Object(x.a)(1))),Object(E.a)(({target:e})=>t===e)).subscribe(()=>{e=!0}),Object(b.a)(t,"click").pipe(Object(U.a)(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(jt.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),i=lt(t)[0];(e||i||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let i;i=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&X(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(n.d),s.Ob(s.l),s.Ob(s.B))},t.\u0275cmp=s.Ib({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&s.Dc(K,!0),2&t){let t;s.vc(t=s.fc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(s.Cb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),s.Db("modal d-block"+(e.windowClass?" "+e.windowClass:"")),s.Gb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:F,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(s.nc(),s.Ub(0,"div",0,1),s.Ub(2,"div",2),s.mc(3),s.Tb(),s.Tb()),2&t&&s.Db("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Ot=(()=>{class t{constructor(t,e,i,n,o,r){this._applicationRef=t,this._injector=e,this._document=i,this._scrollBar=n,this._rendererFactory=o,this._ngZone=r,this._activeWindowCmptHasChanged=new l.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new s.o,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,i,n=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=Object(b.a)(e,"focusin").pipe(Object(U.a)(i),Object(J.a)(t=>t.target));Object(b.a)(e,"keydown").pipe(Object(U.a)(i),Object(E.a)(t=>t.which===ot.Tab),A(t)).subscribe(([t,i])=>{const[n,o]=lt(e);i!==n&&i!==e||!t.shiftKey||(o.focus(),t.preventDefault()),i!==o||t.shiftKey||(n.focus(),t.preventDefault())}),n&&Object(b.a)(e,"click").pipe(Object(U.a)(i),A(t),Object(J.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,i,n){const o=n.container instanceof HTMLElement?n.container:z(n.container)?this._document.querySelector(n.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),r=this._scrollBar.compensate(),c=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!o)throw new Error(`The specified modal container "${n.container||"body"}" was not found in the DOM.`);const a=new _t,l=this._getContentRef(t,n.injector||e,i,a,n);let b=!1!==n.backdrop?this._attachBackdrop(t,o):void 0,d=this._attachWindowComponent(t,o,l),h=new vt(d,l,b,n.beforeDismiss);return this._registerModalRef(h),this._registerWindowCmpt(d),h.result.then(r,r),h.result.then(c,c),a.close=t=>{h.close(t)},a.dismiss=t=>{h.dismiss(t)},this._applyWindowOptions(d.instance,n),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),b&&b.instance&&(this._applyBackdropOptions(b.instance,n),b.changeDetectorRef.detectChanges()),d.changeDetectorRef.detectChanges(),h}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let i=t.resolveComponentFactory(yt).create(this._injector);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,e,i){let n=t.resolveComponentFactory(Ct).create(this._injector,i.nodes);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_applyWindowOptions(t,e){this._windowAttributes.forEach(i=>{z(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(i=>{z(e[i])&&(t[i]=e[i])})}_getContentRef(t,e,i,n,o){return i?i instanceof s.N?this._createFromTemplateRef(i,n):"string"==typeof i?this._createFromString(i):this._createFromComponent(t,e,i,n,o):new mt([])}_createFromTemplateRef(t,e){const i=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(i),new mt([i.rootNodes],i)}_createFromString(t){const e=this._document.createTextNode(""+t);return new mt([[e]])}_createFromComponent(t,e,i,n,o){const r=t.resolveComponentFactory(i),c=s.t.create({providers:[{provide:_t,useValue:n}],parent:e}),a=r.create(c),l=a.location.nativeElement;return o.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new mt([[l]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(s.bc(s.g),s.bc(s.t),s.bc(n.d),s.bc(wt),s.bc(s.H),s.bc(s.B))},t.\u0275prov=Object(s.Kb)({factory:function(){return new t(Object(s.bc)(s.g),Object(s.bc)(s.p),Object(s.bc)(n.d),Object(s.bc)(wt),Object(s.bc)(s.H),Object(s.bc)(s.B))},token:t,providedIn:"root"}),t})(),Tt=(()=>{class t{constructor(t,e,i,n){this._moduleCFR=t,this._injector=e,this._modalStack=i,this._config=n}open(t,e={}){const i=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(s.bc(s.j),s.bc(s.t),s.bc(Ot),s.bc(pt))},t.\u0275prov=Object(s.Kb)({factory:function(){return new t(Object(s.bc)(s.j),Object(s.bc)(s.p),Object(s.bc)(Ot),Object(s.bc)(pt))},token:t,providedIn:"root"}),t})(),Rt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[Tt]}),t})(),St=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),Dt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})();class kt{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const Mt={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Ut=t=>t>0?Object(I.a)(t):t=>t;let Et=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),xt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),Jt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),Bt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),Ht=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),At=(()=>{class t{constructor(t){this._ngbConfig=t,this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(s.bc(G))},t.\u0275prov=Object(s.Kb)({factory:function(){return new t(Object(s.bc)(G))},token:t,providedIn:"root"}),t})(),Pt=0,Vt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Ib({type:t,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(t,e){2&t&&(s.Xb("id",e.id),s.Db("tooltip"+(e.tooltipClass?" "+e.tooltipClass:"")),s.Gb("fade",e.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:F,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(t,e){1&t&&(s.nc(),s.Pb(0,"div",0),s.Ub(1,"div",1),s.mc(2),s.Tb())},styles:["ngb-tooltip-window{pointer-events:none}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{bottom:.4rem;top:auto}"],encapsulation:2,changeDetection:0}),t})(),It=(()=>{class t{constructor(t,e,i,n,o,r,c,a,l,b){this._elementRef=t,this._renderer=e,this._ngZone=c,this._document=a,this._changeDetector=l,this.shown=new s.o,this.hidden=new s.o,this._ngbTooltipWindowId="ngb-tooltip-"+Pt++,this._windowRef=null,this.animation=r.animation,this.autoClose=r.autoClose,this.placement=r.placement,this.triggers=r.triggers,this.container=r.container,this.disableTooltip=r.disableTooltip,this.tooltipClass=r.tooltipClass,this.openDelay=r.openDelay,this.closeDelay=r.closeDelay,this._popupService=new ft(Vt,i,o,e,this._ngZone,n,b),this._zoneSubscription=c.onStable.subscribe(()=>{this._windowRef&&function(t,e,i,n,o){let s=Array.isArray(i)?i:i.split(bt);const r=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],c=e.classList,a=t=>{const[e,i]=t.split("-"),n=[];return n.push("bs-tooltip-"+e),i&&n.push(`bs-tooltip-${e}-${i}`),n.forEach(t=>{c.add(t)}),n};r.forEach(t=>{c.remove("bs-tooltip-"+t)});let l=s.findIndex(t=>"auto"===t);l>=0&&r.forEach(function(t){null==s.find(e=>-1!==e.search("^"+t))&&s.splice(l++,1,t)});const b=e.style;b.position="absolute",b.top="0",b.left="0",b["will-change"]="transform";let d=null,h=!1;for(d of s){let i=a(d);if(dt.positionElements(t,e,d,n)){h=!0;break}i.forEach(t=>{c.remove(t)})}h||(d=s[0],a(d),dt.positionElements(t,e,d,n))}(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container)})}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){const{windowRef:e,transition$:i}=this._popupService.open(this._ngbTooltip,t,this.animation);this._windowRef=e,this._windowRef.instance.animation=this.animation,this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),function(t,e,i,n,o,s,r,c){var a;i&&t.runOutsideAngular((a=()=>{const a=Object(b.a)(e,"keydown").pipe(Object(U.a)(o),Object(E.a)(t=>t.which===ot.Escape),Object(H.a)(t=>t.preventDefault())),l=Object(b.a)(e,"mousedown").pipe(Object(J.a)(t=>{const e=t.target;return 2!==t.button&&!st(e,r)&&("inside"===i?st(e,s)&&rt(e,c):"outside"===i?!st(e,s):rt(e,c)||!st(e,s))}),Object(U.a)(o)),d=Object(b.a)(e,"mouseup").pipe(A(l),Object(E.a)(([t,e])=>e),Object(I.a)(0),Object(U.a)(o));f([a.pipe(Object(J.a)(t=>0)),d.pipe(Object(J.a)(t=>1))]).subscribe(e=>t.run(()=>n(e)))},ct?()=>setTimeout(()=>a(),100):a))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),i.subscribe(()=>this.shown.emit())}}close(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function(t,e,i,n,o,s,c=0,a=0){const l=function(t,e=Mt){const i=(t||"").trim();if(0===i.length)return[];const n=i.split(/\s+/).map(t=>t.split(":")).map(t=>{let i=e[t[0]]||t;return new kt(i[0],i[1])}),o=n.filter(t=>t.isManual());if(o.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===o.length&&n.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return n}(i);if(1===l.length&&l[0].isManual())return()=>{};const b=function(t,e,i,n){return new r.a(o=>{const s=[],r=()=>o.next(!0),c=()=>o.next(!1),a=()=>o.next(!n());return i.forEach(i=>{i.open===i.close?s.push(t.listen(e,i.open,a)):s.push(t.listen(e,i.open,r),t.listen(e,i.close,c))}),()=>{s.forEach(t=>t())}})}(t,e,l,n).pipe(function(t,e,i){return n=>{let o=null;const s=n.pipe(Object(J.a)(t=>({open:t})),Object(E.a)(t=>{const e=i();return e===t.open||o&&o.open!==e?(o&&o.open!==t.open&&(o=null),!1):(o=t,!0)}),Object($.a)()),r=s.pipe(Object(E.a)(t=>t.open),Ut(t)),c=s.pipe(Object(E.a)(t=>!t.open),Ut(e));return Object(k.a)(r,c).pipe(Object(E.a)(t=>t===o&&(o=null,t.open!==i())),Object(J.a)(t=>t.open))}}(c,a,n)).subscribe(t=>t?o():s());return()=>b.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.l),s.Ob(s.G),s.Ob(s.t),s.Ob(s.j),s.Ob(s.R),s.Ob(At),s.Ob(s.B),s.Ob(n.d),s.Ob(s.h),s.Ob(s.g))},t.\u0275dir=s.Jb({type:t,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[s.zb]}),t})(),Lt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)}}),t})();new s.s("live announcer delay",{providedIn:"root",factory:function(){return 100}});let $t=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})();const Ft=[Q,tt,et,it,nt,ht,ut,Rt,St,Dt,Et,xt,Jt,Bt,Ht,Lt,$t];let Kt=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[Ft,Q,tt,et,it,nt,ht,ut,Rt,St,Dt,Et,xt,Jt,Bt,Ht,Lt,$t]}),t})();var zt=i("5dmV"),Wt=i("LUZP"),Nt=i("OaSA"),Gt=function(t){return t[t.Prisadka=0]="Prisadka",t[t.Zamena=1]="Zamena",t}({}),Zt=function(t){return t[t.Time=0]="Time",t[t.Km=1]="Km",t}({}),qt=i("8PDw"),Yt=i("Dxy4"),Xt=i("Tj54");const Qt=["table1"],te=["table2"];function ee(t,e){1&t&&(s.Ub(0,"th",21),s.Jc(1," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 "),s.Tb())}function ie(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Lc(" ",t.title," ")}}function ne(t,e){1&t&&(s.Ub(0,"th",23),s.Jc(1," \u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442 "),s.Tb())}function oe(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.Tb()),2&t){const t=e.$implicit,i=s.ic();s.Bb(1),s.Lc(" ",t.colorType===i.colorType.Prisadka?"\u041f\u0440\u0438\u0441\u0430\u0434\u043a\u0430":"\u0417\u0430\u043c\u0435\u043d\u0430"," ")}}function se(t,e){1&t&&(s.Ub(0,"th",24),s.Jc(1," \u041f\u043b\u0430\u043d "),s.Tb())}function re(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Mc(" ",t.justOnce?"\u041d\u0430":"\u041a\u0430\u0436\u0434\u044b\u0435"," ",t.planValue," \u043c\u0435\u0441 ")}}function ce(t,e){1&t&&(s.Ub(0,"th",25),s.Jc(1," \u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 "),s.Tb())}function ae(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Lc(" ",t.delayValue||0," \u043c\u0435\u0441 ")}}function le(t,e){1&t&&(s.Ub(0,"th",26),s.Jc(1," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 "),s.Tb())}function be(t,e){if(1&t&&(s.Ub(0,"td",27),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Ec("max-width","300px"),s.Bb(1),s.Lc(" ",t.description," ")}}function de(t,e){1&t&&(s.Ub(0,"th",28),s.Jc(1," \u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f "),s.Tb())}function he(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.jc(2,"date"),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Lc(" ",s.lc(2,1,t.createDate,"YYYY.MM.dd")," ")}}function ue(t,e){1&t&&(s.Ub(0,"th",29),s.Jc(1," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 "),s.Tb())}function pe(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",22),s.Ub(1,"button",30),s.ec("click",function(){s.yc(t);const i=e.$implicit;return s.ic().edited.emit(i.id)}),s.jc(2,"async"),s.Ub(3,"mat-icon"),s.Jc(4,"edit"),s.Tb(),s.Tb(),s.Ub(5,"button",31),s.ec("click",function(){s.yc(t);const i=e.$implicit;return s.ic().deleted.emit(i.id)}),s.jc(6,"async"),s.Ub(7,"mat-icon"),s.Jc(8,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.ic();s.Bb(1),s.oc("disabled",!s.kc(2,2,t.isAdmin$)),s.Bb(4),s.oc("disabled",!s.kc(6,4,t.isAdmin$))}}function me(t,e){1&t&&s.Pb(0,"tr",32)}function fe(t,e){1&t&&s.Pb(0,"tr",33)}function ge(t,e){1&t&&(s.Ub(0,"th",21),s.Jc(1," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 "),s.Tb())}function we(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Lc(" ",t.title," ")}}function ye(t,e){1&t&&(s.Ub(0,"th",23),s.Jc(1," \u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442 "),s.Tb())}function _e(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.Tb()),2&t){const t=e.$implicit,i=s.ic();s.Bb(1),s.Lc(" ",t.colorType===i.colorType.Prisadka?"\u041f\u0440\u0438\u0441\u0430\u0434\u043a\u0430":"\u0417\u0430\u043c\u0435\u043d\u0430"," ")}}function ve(t,e){1&t&&(s.Ub(0,"th",24),s.Jc(1," \u041f\u043b\u0430\u043d "),s.Tb())}function je(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Mc(" ",t.justOnce?"\u041d\u0430":"\u041a\u0430\u0436\u0434\u044b\u0435"," ",t.planValue," \u0442.\u043a\u043c ")}}function Ce(t,e){1&t&&(s.Ub(0,"th",25),s.Jc(1," \u041d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 "),s.Tb())}function Oe(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Lc(" ",t.delayValue||0," \u0442.\u043a\u043c ")}}function Te(t,e){1&t&&(s.Ub(0,"th",26),s.Jc(1," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 "),s.Tb())}function Re(t,e){if(1&t&&(s.Ub(0,"td",27),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Ec("max-width","300px"),s.Bb(1),s.Lc(" ",t.description," ")}}function Se(t,e){1&t&&(s.Ub(0,"th",28),s.Jc(1," \u0414\u0430\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f "),s.Tb())}function De(t,e){if(1&t&&(s.Ub(0,"td",22),s.Jc(1),s.jc(2,"date"),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Lc(" ",s.lc(2,1,t.createDate,"YYYY.MM.dd")," ")}}function ke(t,e){1&t&&(s.Ub(0,"th",29),s.Jc(1," \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 "),s.Tb())}function Me(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",22),s.Ub(1,"button",30),s.ec("click",function(){s.yc(t);const i=e.$implicit;return s.ic().edited.emit(i.id)}),s.jc(2,"async"),s.Ub(3,"mat-icon"),s.Jc(4,"edit"),s.Tb(),s.Tb(),s.Ub(5,"button",31),s.ec("click",function(){s.yc(t);const i=e.$implicit;return s.ic().deleted.emit(i.id)}),s.jc(6,"async"),s.Ub(7,"mat-icon"),s.Jc(8,"delete"),s.Tb(),s.Tb(),s.Tb()}if(2&t){const t=s.ic();s.Bb(1),s.oc("disabled",!s.kc(2,2,t.isAdmin$)),s.Bb(4),s.oc("disabled",!s.kc(6,4,t.isAdmin$))}}function Ue(t,e){1&t&&s.Pb(0,"tr",32)}function Ee(t,e){1&t&&s.Pb(0,"tr",33)}let xe=(()=>{class t{constructor(t){this.authService=t,this.edited=new s.o,this.deleted=new s.o,this.isAdmin$=this.authService.isAdmin$,this.displayedColumns=["title","colorType","planValue","delayValue","description","createDate","id"],this.colorType=Gt}set jobs(t){this.timeJobs=new Nt.k(t.filter(t=>t.type===Zt.Time)),this.kmJobs=new Nt.k(t.filter(t=>t.type===Zt.Km)),this.sort1&&(this.kmJobs.sort=this.sort1),this.sort2&&(this.timeJobs.sort=this.sort2)}ngAfterViewInit(){this.kmJobs.sort=this.sort1,this.timeJobs.sort=this.sort2}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(qt.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-job-list"]],viewQuery:function(t,e){if(1&t&&(s.Nc(Qt,!0,Wt.a),s.Nc(te,!0,Wt.a)),2&t){let t;s.vc(t=s.fc())&&(e.sort1=t.first),s.vc(t=s.fc())&&(e.sort2=t.first)}},inputs:{jobs:"jobs"},outputs:{edited:"edited",deleted:"deleted"},decls:54,vars:6,consts:[["mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["table2",""],["matColumnDef","title"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by title",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","colorType"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by colorType",4,"matHeaderCellDef"],["matColumnDef","planValue"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by planValue",4,"matHeaderCellDef"],["matColumnDef","delayValue"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by delayValue",4,"matHeaderCellDef"],["matColumnDef","description"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by description",4,"matHeaderCellDef"],["mat-cell","","class","description-cell",3,"maxWidth",4,"matCellDef"],["matColumnDef","createDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by createDate",4,"matHeaderCellDef"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["table1",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by title"],["mat-cell",""],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by colorType"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by planValue"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by delayValue"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by description"],["mat-cell","",1,"description-cell"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by createDate"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by id"],["mat-icon-button","","color","accent",3,"disabled","click"],["mat-icon-button","","color","warn",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.Ub(0,"h3"),s.Jc(1,"\u0420\u0430\u0431\u043e\u0442\u044b \u043f\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f"),s.Tb(),s.Ub(2,"table",0,1),s.Sb(4,2),s.Hc(5,ee,2,0,"th",3),s.Hc(6,ie,2,1,"td",4),s.Rb(),s.Sb(7,5),s.Hc(8,ne,2,0,"th",6),s.Hc(9,oe,2,1,"td",4),s.Rb(),s.Sb(10,7),s.Hc(11,se,2,0,"th",8),s.Hc(12,re,2,2,"td",4),s.Rb(),s.Sb(13,9),s.Hc(14,ce,2,0,"th",10),s.Hc(15,ae,2,1,"td",4),s.Rb(),s.Sb(16,11),s.Hc(17,le,2,0,"th",12),s.Hc(18,be,2,3,"td",13),s.Rb(),s.Sb(19,14),s.Hc(20,de,2,0,"th",15),s.Hc(21,he,3,4,"td",4),s.Rb(),s.Sb(22,16),s.Hc(23,ue,2,0,"th",17),s.Hc(24,pe,9,6,"td",4),s.Rb(),s.Hc(25,me,1,0,"tr",18),s.Hc(26,fe,1,0,"tr",19),s.Tb(),s.Ub(27,"h3"),s.Jc(28,"\u0420\u0430\u0431\u043e\u0442\u044b \u043f\u043e \u043f\u0440\u043e\u0431\u0435\u0433\u0443"),s.Tb(),s.Ub(29,"table",0,20),s.Sb(31,2),s.Hc(32,ge,2,0,"th",3),s.Hc(33,we,2,1,"td",4),s.Rb(),s.Sb(34,5),s.Hc(35,ye,2,0,"th",6),s.Hc(36,_e,2,1,"td",4),s.Rb(),s.Sb(37,7),s.Hc(38,ve,2,0,"th",8),s.Hc(39,je,2,2,"td",4),s.Rb(),s.Sb(40,9),s.Hc(41,Ce,2,0,"th",10),s.Hc(42,Oe,2,1,"td",4),s.Rb(),s.Sb(43,11),s.Hc(44,Te,2,0,"th",12),s.Hc(45,Re,2,3,"td",13),s.Rb(),s.Sb(46,14),s.Hc(47,Se,2,0,"th",15),s.Hc(48,De,3,4,"td",4),s.Rb(),s.Sb(49,16),s.Hc(50,ke,2,0,"th",17),s.Hc(51,Me,9,6,"td",4),s.Rb(),s.Hc(52,Ue,1,0,"tr",18),s.Hc(53,Ee,1,0,"tr",19),s.Tb()),2&t&&(s.Bb(2),s.oc("dataSource",e.timeJobs),s.Bb(23),s.oc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.oc("matRowDefColumns",e.displayedColumns),s.Bb(3),s.oc("dataSource",e.kmJobs),s.Bb(23),s.oc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.oc("matRowDefColumns",e.displayedColumns))},directives:[Nt.j,Wt.a,Nt.c,Nt.e,Nt.b,Nt.g,Nt.i,Nt.d,Wt.b,Nt.a,Yt.a,Xt.a,Nt.f,Nt.h],pipes:[n.e,n.b],styles:["[_nghost-%COMP%]   table[_ngcontent-%COMP%]{width:100%;margin-bottom:25px}[_nghost-%COMP%]   table[_ngcontent-%COMP%]   .description-cell[_ngcontent-%COMP%]{white-space:pre-line}"]}),t})();var Je,Be=i("iInd"),He=i("iELJ"),Ae=new Uint8Array(16);function Pe(){if(!Je&&!(Je="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Je(Ae)}for(var Ve=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ie=function(t){return"string"==typeof t&&Ve.test(t)},Le=[],$e=0;$e<256;++$e)Le.push(($e+256).toString(16).substr(1));var Fe=function(t,e,i){var n=(t=t||{}).random||(t.rng||Pe)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(var o=0;o<16;++o)e[i+o]=n[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(Le[t[e+0]]+Le[t[e+1]]+Le[t[e+2]]+Le[t[e+3]]+"-"+Le[t[e+4]]+Le[t[e+5]]+"-"+Le[t[e+6]]+Le[t[e+7]]+"-"+Le[t[e+8]]+Le[t[e+9]]+"-"+Le[t[e+10]]+Le[t[e+11]]+Le[t[e+12]]+Le[t[e+13]]+Le[t[e+14]]+Le[t[e+15]]).toLowerCase();if(!Ie(i))throw TypeError("Stringified UUID is invalid");return i}(n)},Ke=i("Q2Ze"),ze=i("e6WT"),We=i("zQhy"),Ne=i("jMqV");let Ge=(()=>{class t{constructor(t,e,i=null){this.fb=t,this.dialogRef=e,this.data=i,this.jobType=Zt,this.colorType=Gt,this.form=this.fb.group({id:[(null==i?void 0:i.id)||Fe()],title:[(null==i?void 0:i.title)||"",o.t.required],type:[i?i.type:Zt.Km,o.t.required],colorType:[(null==i?void 0:i.colorType)||Gt.Zamena,o.t.required],planValue:[(null==i?void 0:i.planValue)||null,o.t.required],delayValue:[(null==i?void 0:i.delayValue)||null],description:[(null==i?void 0:i.description)||""],justOnce:[(null==i?void 0:i.justOnce)||!1],complitedJobs:[[]]})}get type(){return this.form.getRawValue().type}save(){this.dialogRef.close(Object.assign(Object.assign({},this.form.getRawValue()),{createDate:new Date}))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(o.d),s.Ob(He.g),s.Ob(He.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-job-edit-dialog"]],decls:40,vars:8,consts:[["mat-dialog-title",""],[1,"mat-typography"],[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","title"],[1,"form-field"],["formControlName","type"],[3,"value"],["matInput","","type","number","formControlName","planValue"],["matInput","","type","number","formControlName","delayValue"],["matInput","","formControlName","description"],["formControlName","colorType"],["formControlName","justOnce"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","",3,"disabled","click"]],template:function(t,e){1&t&&(s.Ub(0,"h2",0),s.Jc(1,"Add new job"),s.Tb(),s.Ub(2,"mat-dialog-content",1),s.Ub(3,"form",2),s.Ub(4,"mat-form-field",3),s.Ub(5,"mat-label"),s.Jc(6,"Title"),s.Tb(),s.Pb(7,"input",4),s.Tb(),s.Ub(8,"div",5),s.Ub(9,"mat-radio-group",6),s.Ub(10,"mat-radio-button",7),s.Jc(11," \u0412\u0440\u0435\u043c\u044f "),s.Tb(),s.Ub(12,"mat-radio-button",7),s.Jc(13," \u041f\u0440\u043e\u0431\u0435\u0433 "),s.Tb(),s.Tb(),s.Tb(),s.Ub(14,"mat-form-field",3),s.Ub(15,"mat-label"),s.Jc(16),s.Tb(),s.Pb(17,"input",8),s.Tb(),s.Ub(18,"mat-form-field",3),s.Ub(19,"mat-label"),s.Jc(20),s.Tb(),s.Pb(21,"input",9),s.Tb(),s.Ub(22,"mat-form-field",3),s.Ub(23,"mat-label"),s.Jc(24,"(Optional) Description"),s.Tb(),s.Pb(25,"textarea",10),s.Tb(),s.Ub(26,"div",5),s.Ub(27,"mat-radio-group",11),s.Ub(28,"mat-radio-button",7),s.Jc(29," \u041f\u0440\u0438\u0441\u0430\u0434\u043a\u0430 "),s.Tb(),s.Ub(30,"mat-radio-button",7),s.Jc(31," \u0417\u0430\u043c\u0435\u043d\u0430 "),s.Tb(),s.Tb(),s.Tb(),s.Ub(32,"div",5),s.Ub(33,"mat-slide-toggle",12),s.Jc(34,"\u041e\u0434\u043d\u043e\u043a\u0440\u0430\u0442\u043d\u043e"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(35,"mat-dialog-actions",13),s.Ub(36,"button",14),s.Jc(37,"Cancel"),s.Tb(),s.Ub(38,"button",15),s.ec("click",function(){return e.save()}),s.Jc(39,"Save"),s.Tb(),s.Tb()),2&t&&(s.Bb(3),s.oc("formGroup",e.form),s.Bb(7),s.oc("value",e.jobType.Time),s.Bb(2),s.oc("value",e.jobType.Km),s.Bb(4),s.Lc("Plan value, ",e.type===e.jobType.Time?"\u043c\u0435\u0441":"\u0442.\u043a\u043c",""),s.Bb(4),s.Lc("(Optional) Delay value, ",e.type===e.jobType.Time?"\u043c\u0435\u0441":"\u0442.\u043a\u043c",""),s.Bb(8),s.oc("value",e.colorType.Prisadka),s.Bb(2),s.oc("value",e.colorType.Zamena),s.Bb(8),s.oc("disabled",e.form.invalid))},directives:[He.h,He.e,o.v,o.n,o.h,Ke.c,Ke.f,ze.b,o.c,o.m,o.g,We.b,We.a,o.r,Ne.a,He.c,Yt.a,He.d],styles:["mat-radio-button[_ngcontent-%COMP%]{margin-right:20px}.form-field[_ngcontent-%COMP%]{padding-bottom:1.34375em}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),t})();var Ze=i("IheW");let qe=(()=>{class t{constructor(t){this.http=t,this.jobsSubject$=new y.a(null),this.kmJobs$=this.jobsSubject$.asObservable().pipe(Object(E.a)(t=>!!t),Object(J.a)(t=>t.filter(t=>t.type===Zt.Km))),this.timeJobs$=this.jobsSubject$.asObservable().pipe(Object(E.a)(t=>!!t),Object(J.a)(t=>t.filter(t=>t.type===Zt.Time)))}getList(){return this.http.get("assets/json/base.json").pipe(Object(J.a)(t=>{const e=JSON.parse(localStorage.getItem("jobs")||"[]");return(null==e?void 0:e.length)?e:t}),Object(H.a)(t=>{t.forEach(t=>{t.complitedJobs||(t.complitedJobs=[])})}))}}return t.\u0275fac=function(e){return new(e||t)(s.bc(Ze.a))},t.\u0275prov=s.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ye(t,e){if(1&t){const t=s.Vb();s.Ub(0,"app-job-list",5),s.ec("edited",function(e){return s.yc(t),s.ic().onEdit(e)})("deleted",function(e){return s.yc(t),s.ic().onDelete(e)}),s.jc(1,"async"),s.Tb()}if(2&t){const t=s.ic();s.oc("jobs",s.kc(1,1,t.allJobs$))}}function Xe(t,e){if(1&t){const t=s.Vb();s.Ub(0,"app-progress-bar",7),s.ec("jobCompliteChanged",function(e){return s.yc(t),s.ic(2).onJobCompliteChanged(e)}),s.Tb()}if(2&t){const t=s.ic().ngIf;s.oc("jobs",t)("currentValue",15.5)}}function Qe(t,e){if(1&t&&(s.Sb(0),s.Hc(1,Xe,1,2,"app-progress-bar",6),s.Rb()),2&t){const t=e.ngIf;s.Bb(1),s.oc("ngIf",t.length)}}function ti(t,e){if(1&t){const t=s.Vb();s.Ub(0,"app-progress-bar",7),s.ec("jobCompliteChanged",function(e){return s.yc(t),s.ic(2).onJobCompliteChanged(e)}),s.Tb()}if(2&t){const t=s.ic().ngIf,e=s.ic();s.oc("jobs",t)("currentValue",e.possTime)}}function ei(t,e){if(1&t&&(s.Sb(0),s.Hc(1,ti,1,2,"app-progress-bar",6),s.Rb()),2&t){const t=e.ngIf;s.Bb(1),s.oc("ngIf",t.length)}}const ii=new Date("04-01-2021");let ni=(()=>{class t{constructor(t,e,i){this.dialog=t,this.layoutService=e,this.authService=i,this.allJobs$=this.layoutService.jobsSubject$.asObservable().pipe(Object(E.a)(t=>!!t)),this.kmJobs$=this.layoutService.kmJobs$,this.timeJobs$=this.layoutService.timeJobs$,this.user$=this.authService.userRole$,this.isAdmin$=this.authService.isAdmin$,this.possTime=this.monthDiff(ii,new Date)}get jobList(){return this.layoutService.jobsSubject$.value||[]}ngOnInit(){this.layoutService.getList().subscribe(t=>{this.layoutService.jobsSubject$.next(t)}),this.layoutService.jobsSubject$.subscribe(t=>{t&&this.saveJobsToLS(t)})}add(){this.openJobDialog()}onEdit(t){this.openJobDialog(this.jobList.find(e=>e.id===t))}onDelete(t){this.layoutService.jobsSubject$.next(this.jobList.filter(e=>e.id!==t))}onJobCompliteChanged(t){const e=this.jobList.find(e=>e.id===t.job.id);t.checked?e.complitedJobs.push({value:t.job.value}):e.complitedJobs=e.complitedJobs.filter(e=>e.value!==t.job.value),this.saveJobsToLS(this.jobList)}logout(){this.authService.logout()}openJobDialog(t=null){this.dialog.open(Ge,{data:t}).afterClosed().pipe(Object(E.a)(t=>!!t)).subscribe(t=>{console.log("Dialog result: ",JSON.stringify(t));const e=this.jobList.findIndex(e=>e.id===(null==t?void 0:t.id));if(-1!==e){const i=[...this.jobList];i.splice(e,1,t),this.layoutService.jobsSubject$.next(i)}else this.layoutService.jobsSubject$.next([...this.jobList,t])})}monthDiff(t,e){let i;return i=12*(e.getFullYear()-t.getFullYear()),i-=t.getMonth(),i+=e.getMonth(),i<=0?0:i}saveJobsToLS(t){localStorage.setItem("jobs",JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(He.b),s.Ob(qe),s.Ob(qt.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-layout"]],decls:18,vars:13,consts:[[1,"user-info"],["mat-raised-button","","color","primary",3,"click"],[3,"jobs","edited","deleted",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[3,"jobs","edited","deleted"],[3,"jobs","currentValue","jobCompliteChanged",4,"ngIf"],[3,"jobs","currentValue","jobCompliteChanged"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Jc(1),s.jc(2,"async"),s.Ub(3,"button",1),s.ec("click",function(){return e.logout()}),s.Jc(4,"Logout"),s.Tb(),s.Tb(),s.Pb(5,"hr"),s.Hc(6,Ye,2,3,"app-job-list",2),s.Ub(7,"button",3),s.ec("click",function(){return e.add()}),s.jc(8,"async"),s.Jc(9,"Add job"),s.Tb(),s.Pb(10,"br"),s.Pb(11,"br"),s.Pb(12,"br"),s.Hc(13,Qe,2,1,"ng-container",4),s.jc(14,"async"),s.Pb(15,"hr"),s.Hc(16,ei,2,1,"ng-container",4),s.jc(17,"async")),2&t&&(s.Bb(1),s.Lc(" \u0420\u043e\u043b\u044c: ",s.kc(2,5,e.user$)," "),s.Bb(5),s.oc("ngIf",null==e.jobList?null:e.jobList.length),s.Bb(1),s.oc("disabled",!s.kc(8,7,e.isAdmin$)),s.Bb(6),s.oc("ngIf",s.kc(14,9,e.kmJobs$)),s.Bb(3),s.oc("ngIf",s.kc(17,11,e.timeJobs$)))},styles:[".user-info[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.user-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:15px}"]}),t})();const oi=[{path:"",component:ni}];let si=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[Be.b.forChild(oi)],Be.b]}),t})();var ri=i("Kj3r"),ci=i("mPVK"),ai=i("BTe0"),li=i("8Qe2"),bi=i("pMoy");function di(t,e){if(1&t&&(s.Ub(0,"div"),s.Ub(1,"mat-form-field",13),s.Ub(2,"mat-label"),s.Jc(3,"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0431\u0435\u0433"),s.Tb(),s.Pb(4,"input",14),s.Tb(),s.Tb()),2&t){const t=s.ic();s.Bb(4),s.oc("formControl",t.currentValueCtrl)}}function hi(t,e){if(1&t&&(s.Ub(0,"span",15),s.Jc(1),s.jc(2,"date"),s.Tb()),2&t){const t=e.$implicit,i=s.ic();s.Ec("left",i.getItemMargin(t.value),"%"),s.Bb(1),s.Kc(i.isKmType?t.text:s.lc(2,3,t.text,"MMM y"))}}function ui(t,e){if(1&t&&(s.Ub(0,"h3"),s.Jc(1),s.jc(2,"date"),s.Tb()),2&t){const t=s.ic(2).$implicit,e=s.ic();s.Bb(1),s.Kc(s.lc(2,1,e.getDateByValue(t.value),"MMM y"))}}function pi(t,e){1&t&&(s.Ub(0,"th",30),s.Jc(1," \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 "),s.Tb())}function mi(t,e){if(1&t&&(s.Ub(0,"td",31),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Lc(" ",t.title," ")}}function fi(t,e){1&t&&(s.Ub(0,"th",30),s.Jc(1," \u0412\u0438\u0434 \u0440\u0430\u0431\u043e\u0442 "),s.Tb())}function gi(t,e){if(1&t&&(s.Ub(0,"td",31),s.Jc(1),s.Tb()),2&t){const t=e.$implicit,i=s.ic(3);s.Bb(1),s.Lc(" ",t.colorType===i.colorType.Prisadka?"\u041f\u0440\u0438\u0441\u0430\u0434\u043a\u0430":"\u0417\u0430\u043c\u0435\u043d\u0430"," ")}}function wi(t,e){1&t&&(s.Ub(0,"th",30),s.Jc(1," \u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 "),s.Tb())}function yi(t,e){if(1&t&&(s.Ub(0,"td",32),s.Jc(1),s.Tb()),2&t){const t=e.$implicit;s.Bb(1),s.Lc(" ",t.description," ")}}function _i(t,e){1&t&&(s.Ub(0,"th",30),s.Jc(1," \u0420\u0430\u0431\u043e\u0442\u044b \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b "),s.Tb())}function vi(t,e){if(1&t){const t=s.Vb();s.Ub(0,"td",32),s.Ub(1,"mat-checkbox",33),s.ec("change",function(i){s.yc(t);const n=e.$implicit,o=s.ic(2).$implicit;return s.ic().onCompliteChanged(o,n,i)}),s.jc(2,"async"),s.Tb(),s.Tb()}if(2&t){const t=e.$implicit,i=s.ic(3);s.Bb(1),s.oc("checked",t.jobComplited)("disabled",!s.kc(2,2,i.isAdmin$))}}function ji(t,e){1&t&&s.Pb(0,"tr",34)}function Ci(t,e){1&t&&s.Pb(0,"tr",35)}const Oi=function(){return["title","colorType","description","complited"]};function Ti(t,e){if(1&t&&(s.Ub(0,"div",19),s.Ub(1,"h2"),s.Jc(2),s.Tb(),s.Hc(3,ui,3,4,"h3",3),s.Ub(4,"table",20),s.Sb(5,21),s.Hc(6,pi,2,0,"th",22),s.Hc(7,mi,2,1,"td",23),s.Rb(),s.Sb(8,24),s.Hc(9,fi,2,0,"th",22),s.Hc(10,gi,2,1,"td",23),s.Rb(),s.Sb(11,25),s.Hc(12,wi,2,0,"th",22),s.Hc(13,yi,2,1,"td",26),s.Rb(),s.Sb(14,27),s.Hc(15,_i,2,0,"th",22),s.Hc(16,vi,3,4,"td",26),s.Rb(),s.Hc(17,ji,1,0,"tr",28),s.Hc(18,Ci,1,0,"tr",29),s.Tb(),s.Tb()),2&t){const t=s.ic().$implicit,e=s.ic();s.Bb(2),s.Mc("\u0420\u0430\u0431\u043e\u0442\u044b \u043d\u0430 \u043f\u0440\u043e\u0431\u0435\u0433\u0435: ",t.value," ",e.isKmType?"\u0442.\u043a\u043c":"\u043c\u0435\u0441",""),s.Bb(1),s.oc("ngIf",!e.isKmType),s.Bb(1),s.oc("dataSource",t.jobs),s.Bb(13),s.oc("matHeaderRowDef",s.rc(6,Oi)),s.Bb(1),s.oc("matRowDefColumns",s.rc(7,Oi))}}function Ri(t,e){if(1&t&&(s.Ub(0,"div",16),s.Ub(1,"mat-icon",17),s.Jc(2),s.Tb(),s.Hc(3,Ti,19,8,"ng-template",null,18,s.Ic),s.Tb()),2&t){const t=e.$implicit,i=s.wc(4),n=s.ic();s.Ec("left",n.getItemMargin(t.value)+"%"),s.oc("ngbTooltip",i)("autoClose","outside"),s.Bb(1),s.Gb("complited",t.complited),s.oc("matBadge",t.jobs.length)("matBadgeHidden",1===t.jobs.length),s.Bb(1),s.Kc(t.icon)}}let Si=(()=>{class t{constructor(t,e){this.element=t,this.authService=e,this.isAdmin$=this.authService.isAdmin$,this.jobGraphItems=[],this.colorType=Gt,this.graphScale=0,this.jobType=null,this.scaleSteps=[],this.currentValueCtrl=new o.e(0),this.jobCompliteChanged=new s.o}get isKmType(){return this.jobType===Zt.Km}get MAX_VALUE(){return this.isKmType?300:84}get progreesBarWidth(){return this.MAX_VALUE/this.graphScale*100}get progreesBarValue(){return 100*this.currentValue/this.MAX_VALUE}set currentValue(t){this.currentValueCtrl.setValue(t||0)}get currentValue(){return this.currentValueCtrl.value}set jobs(t){var e;this.jobType=null===(e=t[0])||void 0===e?void 0:e.type,this.jobGraphItems=[],t.forEach(t=>{var e,i,n,o;if(t.justOnce){const n=t.delayValue||t.planValue,o=this.jobGraphItems.find(t=>t.value===n);if(o)o.jobs.push(Object.assign(Object.assign({},t),{value:n,jobComplited:(null===(e=t.complitedJobs)||void 0===e?void 0:e.some(t=>t.value===n))||!1})),o.icon=this.getJobIcon(o),o.complited=o.jobs.every(t=>t.jobComplited);else{const e=Object.assign(Object.assign({},t),{value:n,jobComplited:(null===(i=t.complitedJobs)||void 0===i?void 0:i.some(t=>t.value===n))||!1}),o={value:n,jobs:[e],icon:"",complited:e.jobComplited};this.jobGraphItems.push(Object.assign(Object.assign({},o),{icon:this.getJobIcon(o)}))}}else{const e=t.planValue;let i=t.delayValue||e;for(;i<=this.MAX_VALUE;){const s=this.jobGraphItems.find(t=>t.value===i);if(s)s.jobs.push(Object.assign(Object.assign({},t),{value:i,jobComplited:(null===(n=t.complitedJobs)||void 0===n?void 0:n.some(t=>t.value===i))||!1})),s.icon=this.getJobIcon(s),s.complited=s.jobs.every(t=>t.jobComplited);else{const e=Object.assign(Object.assign({},t),{value:i,jobComplited:(null===(o=t.complitedJobs)||void 0===o?void 0:o.some(t=>t.value===i))||!1}),n={value:i,jobs:[e],icon:"",complited:e.jobComplited};this.jobGraphItems.push(Object.assign(Object.assign({},n),{icon:this.getJobIcon(n)}))}i+=e}}})}ngOnInit(){this.currentValueCtrl.valueChanges.pipe(Object(ri.a)(1e3)).subscribe(()=>this.scrollToCurrent()),this.graphScale=this.isKmType?40:36;const t=this.isKmType?5:2;let e=t;const i=new Date(ii.getTime());for(;e<=this.MAX_VALUE;){const n=this.isKmType?e+" \u0442.\u043a\u043c":new Date(i.setMonth(i.getMonth()+t));this.scaleSteps.push({value:e,text:n}),e+=t}this.scrollToCurrent()}getItemMargin(t){return 100*t/this.graphScale}scrollToCurrent(t){var e;null===(e=this.element.nativeElement.querySelector("#car"))||void 0===e||e.scrollIntoView(),console.log(this.element.nativeElement.querySelector("#scrollBlock")),t&&this.element.nativeElement.querySelector("#scrollBlock")}onCompliteChanged(t,e,i){e.jobComplited=i.checked,t.complited=t.jobs.every(t=>t.jobComplited),this.jobCompliteChanged.emit({job:e,checked:i.checked})}getDateByValue(t){const e=new Date(ii.getTime());return new Date(e.setMonth(e.getMonth()+t))}getJobIcon(t){var e;return t.jobs.length>1?"miscellaneous_services":(null===(e=t.jobs[0])||void 0===e?void 0:e.colorType)===Gt.Prisadka?"sanitizer":"miscellaneous_services"}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(s.l),s.Ob(qt.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-progress-bar"]],inputs:{currentValue:"currentValue",jobs:"jobs"},outputs:{jobCompliteChanged:"jobCompliteChanged"},decls:16,vars:13,consts:[[1,"controls"],[1,"scale-slider-container"],[3,"max","min","ngModel","ngModelChange"],[4,"ngIf"],["mat-stroked-button","","color","primary",3,"click"],["id","scrollBlock",1,"progress-bar-container"],[1,"progress-container"],[1,"scale-steps-container"],["class","scale-step",3,"left",4,"ngFor","ngForOf"],["mode","determinate",3,"value"],["id","car","src","assets/images/tiguan.png","alt","",1,"car"],[1,"items-container"],["class","item","container","body","triggers","click",3,"left","ngbTooltip","autoClose",4,"ngFor","ngForOf"],["appearance","outline"],["matInput","","type","number","placeholder","\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 30 (\u0442.\u043a\u043c)",3,"formControl"],[1,"scale-step"],["container","body","triggers","click",1,"item",3,"ngbTooltip","autoClose"],["matBadgeColor","warn","matBadgeSize","small","color","primary",3,"matBadge","matBadgeHidden"],["tipContent",""],[1,"preview"],["mat-table","",3,"dataSource"],["matColumnDef","title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","colorType"],["matColumnDef","description"],["mat-cell","","class","description-cell",4,"matCellDef"],["matColumnDef","complited"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"description-cell"],[3,"checked","disabled","change"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"mat-slider",2),s.ec("ngModelChange",function(t){return e.graphScale=t}),s.Tb(),s.Ub(3,"label"),s.Jc(4),s.Tb(),s.Tb(),s.Hc(5,di,5,1,"div",3),s.Ub(6,"button",4),s.ec("click",function(){return e.scrollToCurrent()}),s.Jc(7,"Scroll to current"),s.Tb(),s.Tb(),s.Ub(8,"div",5),s.Ub(9,"div",6),s.Ub(10,"div",7),s.Hc(11,hi,3,6,"span",8),s.Tb(),s.Pb(12,"mat-progress-bar",9),s.Pb(13,"img",10),s.Tb(),s.Ub(14,"div",11),s.Hc(15,Ri,5,9,"div",12),s.Tb(),s.Tb()),2&t&&(s.Bb(2),s.oc("max",e.isKmType?100:48)("min",e.isKmType?30:18)("ngModel",e.graphScale),s.Bb(2),s.Mc("\u041c\u0430\u0441\u0448\u0442\u0430\u0431: ",e.graphScale," ",e.isKmType?"\u0442.\u043a\u043c":"\u043c\u0435\u0441",""),s.Bb(1),s.oc("ngIf",e.isKmType),s.Bb(6),s.oc("ngForOf",e.scaleSteps),s.Bb(1),s.Ec("width",e.progreesBarWidth,"%"),s.oc("value",e.progreesBarValue),s.Bb(1),s.Ec("left",e.getItemMargin(e.currentValue),"%"),s.Bb(2),s.oc("ngForOf",e.jobGraphItems))},directives:[ci.a,o.m,o.p,n.m,Yt.a,n.l,ai.a,Ke.c,Ke.f,ze.b,o.r,o.c,o.f,It,Xt.a,li.a,Nt.j,Nt.c,Nt.e,Nt.b,Nt.g,Nt.i,Nt.d,Nt.a,bi.a,Nt.f,Nt.h],pipes:[n.e,n.b],styles:[".controls[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;margin-bottom:50px}.controls[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:25px}.controls[_ngcontent-%COMP%]   .scale-slider-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:10px}.progress-bar-container[_ngcontent-%COMP%]{padding:56px 0;overflow-x:auto;scroll-behavior:smooth}.progress-bar-container[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]{position:relative}.progress-bar-container[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .car[_ngcontent-%COMP%]{transform:rotateY(180deg) translateX(100%);width:130px;position:absolute;top:-49px;left:0;transition:left 2s cubic-bezier(0,.95,.01,.96)}.progress-bar-container[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .scale-steps-container[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:-22px;font-size:11px;color:rgba(63,81,181,.5)}.progress-bar-container[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .scale-steps-container[_ngcontent-%COMP%]   .scale-step[_ngcontent-%COMP%]{position:absolute;transform:rotate(-36deg) translate(-1px,-14px);white-space:nowrap;-webkit-user-select:none;user-select:none}.progress-bar-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]{position:relative;height:30px;padding:2px 0}.progress-bar-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{position:absolute;transform:translateX(-50%);cursor:pointer;-webkit-user-select:none;user-select:none}.progress-bar-container[_ngcontent-%COMP%]   .items-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   mat-icon.complited[_ngcontent-%COMP%]{color:green}"]}),t})(),Di=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},imports:[[si,n.c,o.i,o.s,zt.a,Kt]]}),t})();s.Ac(ni,[Yt.a,n.m,xe,Si],[n.b])}}]);